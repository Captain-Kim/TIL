## 난독화의 의미

난독화란 말 그대로 소스코드를 해석하기 어렵게 만드는 기법이다. 해석이 불가능한 것은 아니고 까다롭게 만들어서 해킹을 포기하게 하는 용도로도 사용하는데 지금은 다양한 툴들이 있어 공격하고자 마음만 먹는다면 크게 의미가 없다.


보안이 꼭 필요하다면 백엔드 처리에서 더 신경쓰는 것이 나을 것으로 보인다.


다만 간단한 프로젝트의 경우, 노출시키기 싫은 정보가 있다면 소스코드를 읽기 어렵게 꼬아서 난독화를 하는 방법도 있다.


그리고 단순히 코드를 다른 언어로 인코딩하는 개념인 툴들이라 쉽게 해독된다고 페이지들은 안내하고 있다. 또한 일부 브라우저에서는 이 코드가 작동하지 않는다고도 말하고 있다.


설치형들도 있지만 가볍게 사용할 목적으로 웹 버전만 나열한다.


[난독화 설명 블로그](https://4rgos.tistory.com/2)

## 난독화 툴

난독화를 돕는 웹 툴들이 있다. 어차피 자바스크립트는 객체 기반 언어로서 모든 내용이 공개되니, 이를 보안을 위한 용도로는 사용하지 않는 것이 좋겠다.


본인은 정말 간단한 로그인 페이지에서 자바스크립트 내에 로그인 식별 정보를 담고 이 부분만 난독화하여 사용한다. (절대 중요한 내용은 아니다.)


아래에는 각 툴의 URL과 console.log('Hello, World!');를 난독화한 샘플을 함께 담는다.

1. [aaencode demo | 웹 버전](https://utf-8.jp/public/aaencode.html)

```javascript
ﾟωﾟﾉ= /｀ｍ´）ﾉ ~┻━┻   //*´∇｀*/ ['_']; o=(ﾟｰﾟ)  =_=3; c=(ﾟΘﾟ) =(ﾟｰﾟ)-(ﾟｰﾟ); (ﾟДﾟ) =(ﾟΘﾟ)= (o^_^o)/ (o^_^o);(ﾟДﾟ)={ﾟΘﾟ: '_' ,ﾟωﾟﾉ : ((ﾟωﾟﾉ==3) +'_') [ﾟΘﾟ] ,ﾟｰﾟﾉ :(ﾟωﾟﾉ+ '_')[o^_^o -(ﾟΘﾟ)] ,ﾟДﾟﾉ:((ﾟｰﾟ==3) +'_')[ﾟｰﾟ] }; (ﾟДﾟ) [ﾟΘﾟ] =((ﾟωﾟﾉ==3) +'_') [c^_^o];(ﾟДﾟ) ['c'] = ((ﾟДﾟ)+'_') [ (ﾟｰﾟ)+(ﾟｰﾟ)-(ﾟΘﾟ) ];(ﾟДﾟ) ['o'] = ((ﾟДﾟ)+'_') [ﾟΘﾟ];(ﾟoﾟ)=(ﾟДﾟ) ['c']+(ﾟДﾟ) ['o']+(ﾟωﾟﾉ +'_')[ﾟΘﾟ]+ ((ﾟωﾟﾉ==3) +'_') [ﾟｰﾟ] + ((ﾟДﾟ) +'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ ((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [(ﾟｰﾟ) - (ﾟΘﾟ)]+(ﾟДﾟ) ['c']+((ﾟДﾟ)+'_') [(ﾟｰﾟ)+(ﾟｰﾟ)]+ (ﾟДﾟ) ['o']+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ];(ﾟДﾟ) ['_'] =(o^_^o) [ﾟoﾟ] [ﾟoﾟ];(ﾟεﾟ)=((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟДﾟ) .ﾟДﾟﾉ+((ﾟДﾟ)+'_') [(ﾟｰﾟ) + (ﾟｰﾟ)]+((ﾟｰﾟ==3) +'_') [o^_^o -ﾟΘﾟ]+((ﾟｰﾟ==3) +'_') [ﾟΘﾟ]+ (ﾟωﾟﾉ +'_') [ﾟΘﾟ]; (ﾟｰﾟ)+=(ﾟΘﾟ); (ﾟДﾟ)[ﾟεﾟ]='\\'; (ﾟДﾟ).ﾟΘﾟﾉ=(ﾟДﾟ+ ﾟｰﾟ)[o^_^o -(ﾟΘﾟ)];(oﾟｰﾟo)=(ﾟωﾟﾉ +'_')[c^_^o];(ﾟДﾟ) [ﾟoﾟ]='\"';(ﾟДﾟ) ['_'] ( (ﾟДﾟ) ['_'] (ﾟεﾟ+(ﾟДﾟ)[ﾟoﾟ]+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ (o^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ ((o^_^o) +(o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟΘﾟ)+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ (c^_^o)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) - (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((o^_^o) +(o^_^o))+ ((o^_^o) - (ﾟΘﾟ))+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ ((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟΘﾟ)+ (ﾟｰﾟ)+ (ﾟｰﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+(ﾟｰﾟ)+ ((ﾟｰﾟ) + (o^_^o))+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (ﾟΘﾟ))+ (ﾟΘﾟ)+ (ﾟДﾟ)[ﾟεﾟ]+((ﾟｰﾟ) + (o^_^o))+ (o^_^o)+ (ﾟДﾟ)[ﾟoﾟ]) (ﾟΘﾟ)) ('_');
```

정말 알아보기 힘든 것이 장점이기도 하면서 코드가 너무 길어 단점이 될 수도 있다.

2. [dean.edwards.name | 웹 버전](http://dean.edwards.name/packer/)

```javascript
eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('0.1(\'2, 3!\');',4,4,'console|log|Hello|World'.split('|'),0,{}))
```

Base62 encode를 체크하고 Pack을 눌러야 난독화된다. 그런데 자세히 보면 맨 아랫줄에 원래 코드가 그대로 노출되어 있다.  


이 예제는 코드가 짧아서 그런데, 길면 길수록 원래 코드도 읽기 까다로워지긴 한다.

3. [obfuscator | 웹 버전](https://obfuscator.io/)

```javascript
var _0x429581=_0x4fbd;function _0x4fbd(_0x2328f0,_0x126040){var _0x3290cf=_0x3290();return _0x4fbd=function(_0x4fbd5b,_0xe9b509){_0x4fbd5b=_0x4fbd5b-0x186;var _0x5b2d28=_0x3290cf[_0x4fbd5b];return _0x5b2d28;},_0x4fbd(_0x2328f0,_0x126040);}(function(_0x43dc52,_0x40beae){var _0x1c8d43=_0x4fbd,_0x5852f9=_0x43dc52();while(!![]){try{var _0x347a4=parseInt(_0x1c8d43(0x189))/0x1+parseInt(_0x1c8d43(0x18c))/0x2+parseInt(_0x1c8d43(0x190))/0x3*(-parseInt(_0x1c8d43(0x187))/0x4)+parseInt(_0x1c8d43(0x188))/0x5+-parseInt(_0x1c8d43(0x18d))/0x6+parseInt(_0x1c8d43(0x18b))/0x7*(parseInt(_0x1c8d43(0x186))/0x8)+-parseInt(_0x1c8d43(0x18e))/0x9*(-parseInt(_0x1c8d43(0x18f))/0xa);if(_0x347a4===_0x40beae)break;else _0x5852f9['push'](_0x5852f9['shift']());}catch(_0x147a7e){_0x5852f9['push'](_0x5852f9['shift']());}}}(_0x3290,0x99665),console[_0x429581(0x18a)]('Hello,\x20World!'));function _0x3290(){var _0x2e9629=['2242095kuHlak','199816HeDRSU','log','7Fxjigy','1330086suOlQT','2453700qoSqAJ','1638cVjsRe','10190IjKYEl','6NrIGza','679736QKuoUQ','1092856oOotZl'];_0x3290=function(){return _0x2e9629;};return _0x3290();}
```

아래 여러가지 세팅이 있는데 본인은 사이트 접속했을 때 default 세팅으로 예시를 든 것이다. 이것도 자세히 보면 원래의 소스코드가 그대로 노출되고 있지만 코드가 길어질수록 2번 툴과 같이 복잡해진다.

4. [utf-8.jp | 웹 버전](https://utf-8.jp/public/jjencode.html)

```javascript
뭘봐=~[];뭘봐={___:++뭘봐,$$$$:(![]+"")[뭘봐],__$:++뭘봐,$_$_:(![]+"")[뭘봐],_$_:++뭘봐,$_$$:({}+"")[뭘봐],$$_$:(뭘봐[뭘봐]+"")[뭘봐],_$$:++뭘봐,$$$_:(!""+"")[뭘봐],$__:++뭘봐,$_$:++뭘봐,$$__:({}+"")[뭘봐],$$_:++뭘봐,$$$:++뭘봐,$___:++뭘봐,$__$:++뭘봐};뭘봐.$_=(뭘봐.$_=뭘봐+"")[뭘봐.$_$]+(뭘봐._$=뭘봐.$_[뭘봐.__$])+(뭘봐.$$=(뭘봐.$+"")[뭘봐.__$])+((!뭘봐)+"")[뭘봐._$$]+(뭘봐.__=뭘봐.$_[뭘봐.$$_])+(뭘봐.$=(!""+"")[뭘봐.__$])+(뭘봐._=(!""+"")[뭘봐._$_])+뭘봐.$_[뭘봐.$_$]+뭘봐.__+뭘봐._$+뭘봐.$;뭘봐.$$=뭘봐.$+(!""+"")[뭘봐._$$]+뭘봐.__+뭘봐._+뭘봐.$+뭘봐.$$;뭘봐.$=(뭘봐.___)[뭘봐.$_][뭘봐.$_];뭘봐.$(뭘봐.$(뭘봐.$$+"\""+뭘봐.$$__+뭘봐._$+"\\"+뭘봐.__$+뭘봐.$_$+뭘봐.$$_+"\\"+뭘봐.__$+뭘봐.$$_+뭘봐._$$+뭘봐._$+(![]+"")[뭘봐._$_]+뭘봐.$$$_+"."+(![]+"")[뭘봐._$_]+뭘봐._$+"\\"+뭘봐.__$+뭘봐.$__+뭘봐.$$$+"('\\"+뭘봐.__$+뭘봐.__$+뭘봐.___+뭘봐.$$$_+(![]+"")[뭘봐._$_]+(![]+"")[뭘봐._$_]+뭘봐._$+",\\"+뭘봐.$__+뭘봐.___+"\\"+뭘봐.__$+뭘봐._$_+뭘봐.$$$+뭘봐._$+"\\"+뭘봐.__$+뭘봐.$$_+뭘봐._$_+(![]+"")[뭘봐._$_]+뭘봐.$$_$+"!');"+"\"")())();
```

2번 툴과 비슷한 원리인 것 같은데 재미있는 사이트이다. 본인이 설정한 단어를 계속 반복시키며 코드를 복잡하게 만든다.

5. [javascriptobfuscator.dev | 웹 버전](https://javascriptobfuscator.dev/)

```javascript
function _0x32ca(){var _0x5a8184=['9634480pBwlgq','log','40864upDyCw','1422PUzvDN','1760381JJRsPx','1850456TkQCZk','5dmtrzT','9887ANcIZu','956048HHczmt','Hello,\x20World!','4490532ayqsvC','3uUyorl'];_0x32ca=function(){return _0x5a8184;};return _0x32ca();}function _0x4c48(_0x3ab6f7,_0x1fe65c){var _0x32ca3a=_0x32ca();return _0x4c48=function(_0x4c4892,_0x127573){_0x4c4892=_0x4c4892-0x126;var _0x2e9d8f=_0x32ca3a[_0x4c4892];return _0x2e9d8f;},_0x4c48(_0x3ab6f7,_0x1fe65c);}var _0x10ea9b=_0x4c48;(function(_0x2c8688,_0x2d15ad){var _0x1610cc=_0x4c48,_0x233fb3=_0x2c8688();while(!![]){try{var _0xc05035=-parseInt(_0x1610cc(0x12f))/0x1+parseInt(_0x1610cc(0x12d))/0x2*(parseInt(_0x1610cc(0x127))/0x3)+-parseInt(_0x1610cc(0x130))/0x4*(-parseInt(_0x1610cc(0x12e))/0x5)+-parseInt(_0x1610cc(0x126))/0x6+parseInt(_0x1610cc(0x12c))/0x7+-parseInt(_0x1610cc(0x12a))/0x8*(-parseInt(_0x1610cc(0x12b))/0x9)+-parseInt(_0x1610cc(0x128))/0xa;if(_0xc05035===_0x2d15ad)break;else _0x233fb3['push'](_0x233fb3['shift']());}catch(_0x1c4571){_0x233fb3['push'](_0x233fb3['shift']());}}}(_0x32ca,0x7a526),console[_0x10ea9b(0x129)](_0x10ea9b(0x131)));
```
