[원문](https://ko.javascript.info/comments)

## 주석(comment)이란?

주석은 코드가 어떻게 동작하는지, 왜 작동하는지 설명하는 데 쓰인다.


주석을 잘못 작성하면 오히려 오해를 살 수 있기 때문에 주석을 가독성이 좋게 작성하는 것도 숙련이 필요하다.

- 한 줄 주석 : //
- 여러 줄 주석 : /* ... */

## 주석의 좋지 못한 예시

설명이 담긴 주석이 많으면 좋지 못하다. 가능하다면 코드만 보더라도 어떤 동작을 할 것 같은지 이해하기 쉽게 코드를 작성하는 것이 1순위가 되어야 한다.


만약 코드가 너무 복잡해서 주석을 달아야만 한다면 코드를 다시 작성해야 하는 지경에 이른 것일 수도 있다는 점을 생각해보자.

```javascript
// 이 코드는 (...)과 (...)을 수행합니다
// A라는 개발자가 이 기능에 대해 알고 있으며...
very;
complex;
code;
```

## 함수 리펙토링 (Refactoring)

함수를 리펙토링한다는 것의 의미는 코드를 작성하고 나서 가독성을 위해 코드를 다시 작성하는 것이 아니라, 위치를 바꾸거나 구조를 변경하는 과정을 의미한다.

### 함수 분리하기

함수 내 코드의 일부를 새로운 함수로 옮기는 것이 좋을 수도 있다.

```javascript
// 함수 분리 전
function showPrimes(n) {
  nextPrime:
  for (let i = 2; i < n; i++) {

    // i가 소수인지를 확인함
    for (let j = 2; j < i; j++) {
      if (i % j == 0) continue nextPrime;
    }

    alert(i);
  }
}

// 함수 분리 후
function showPrimes(n) {

  for (let i = 2; i < n; i++) {
    if (!isPrime(i)) continue;

    alert(i);
  }
}

function isPrime(n) {
  for (let i = 2; i < n; i++) {
    if (n % i == 0) return false;
  }

  return true;
}
```

위 예제를 보면 함수 분리 전 코드에서는 for문 안에 또 for문을 중첩하면서 중첩된 for문이 어떤 기능을 하는지 파악하기에 가독성이 낮아 주석을 달았다.


그런데 이를 찢어서 isPrime(n)이라는 함수를 하나 더 만들어서 함수를 분리했더니, 주석을 보지 않고 함수의 이름과 코드만 보더라도 함수가 어떤 기능을 하는지 파악하기가 더 수월해졌다.


함수 이름 자체가 주석 역할을 하게 된 것인데 이를 자기 설명적인(self-descriptive) 코드라고 부른다.

### 함수 만들기

함수는 개발자가 직접 이름을 짓기 때문에 어떤 기능을 하는지 이름만으로도 자기 설명적인 코드를 작성할 수 있다. 그런데 for문이나 if문 등 자바스크립트 내장 함수나 키워드만 이용하고 함수를 이용하지 않으면 가독성이 떨어질 수 있다. 이런 경우 함수를 만들어주는 것이 가독성을 높이는 데 도움이 된다.

```javascript
// 한 줄로 죽 늘어져 주석이 불가피한 코드
// 위스키를 더해줌
for(let i = 0; i < 10; i++) {
  let drop = getWhiskey();
  smell(drop);
  add(drop, glass);
}

// 주스를 더해줌
for(let t = 0; t < 3; t++) {
  let tomato = getTomato();
  examine(tomato);
  let juice = press(tomato);
  add(juice, glass);
}

// ...
```

```javascript
// 자기 설명적인 함수 작성
addWhiskey(glass);
addJuice(glass);

function addWhiskey(container) {
  for(let i = 0; i < 10; i++) {
    let drop = getWhiskey();
    //...
  }
}

function addJuice(container) {
  for(let t = 0; t < 3; t++) {
    let tomato = getTomato();
    //...
  }
}
```

물론 주석을 아예 사용하지 말라는 것은 아니다. 자기 설명적 함수를 작성하는 것만으로도 주석이 필요없는 코드 보다는 자기 설명적인 함수를 작성하는 것이 더 권장된다는 의미이고, 일반적이지 않은 알고리즘을 가지고 있는 복잡한 코드를 작성한 경우나 최적화를 고려해서 코드를 약간 비틀어 작성한 경우에는 주석 사용이 불가피하다.


이런 경우를 제외하고는 코드 자체만으로 설명이 되도록 코드를 작성하는 연습을 하는 것이 좋다.

## 주석의 좋은 예시

'설명이 담긴 주석'은 좋지 않다. 하지만 '아키텍처를 설명하는 주석'은 좋다. 이러한 주석은 조감도 역할을 해준다.


### 넣으면 좋은 주석

- 고차원 수준의 컴포넌트 개요
- 컴포넌트 간 상호작용에 대한 설명
- 상황에 따른 제어 흐름
- 함수 용례와 매개변수 정보를 담고 있는 주석
  - 주석에도 문법이 있다. [JSDoc](http://en.wikipedia.org/wiki/JSDoc)이라는 주석을 위한 특별한 문법을 사용하면 함수에 관한 문서를 쉽게 작성할 수 있다.

```javascript
/**
 * x를 n번 곱한 수를 반환함
 *
 * @param {number} x 거듭제곱할 숫자
 * @param {number} n 곱할 횟수, 반드시 자연수여야 함
 * @return {number} x의 n 거듭제곱을 반환함
 */
function pow(x, n) {
  ...
}
```

- '왜 이런 방법으로 문제를 해결했는지' 설명하는 주석
  - 프로그래밍 언어는 다양한 방법으로 표현할 수 있다. 같은 동작을 하는 것도 if...else문으로 작성할 수 있고 ? 삼항 연산자를 사용할 수도 있다.
  - 작성된 코드를 읽어보면 어떤 동작을 하는지, 무슨 일이 일어나고 있는지는 가독성에 따라 정도의 차이는 있겠지만 파악할 수 있는 정보이다. 그러나 왜 굳이 이런 방식으로 작성을 했는지는 코드가 말해주지 않는다. 오로지 그 코드를 작성한 개발자만 알고 있다.
  - 만약 이런 내용을 설명하지 않으면 아래와 같은 비효율이 발생할 수 있다.

1. 내가 작성한 코드를 시간이 한참 지난 후 팀원이 열어본다.
2. 내가 작성한 코드보다 더 간결하고 좋은 코드가 있는데, 내가 코드를 비효율적으로 작성했다고 생각한다.
3. 그래서 품질이 좋은 코드로 수정을 한다.
4. 수정을 하고 보니 에러가 발생한다.
5. 나는 그렇게 코드를 작성하면 에러가 발생한다는 걸 알았기 때문에 다른 방식으로 적은 것이었다.
6. 내 동료의 코드 품질 개선 시도는 헛수고가 되었다.