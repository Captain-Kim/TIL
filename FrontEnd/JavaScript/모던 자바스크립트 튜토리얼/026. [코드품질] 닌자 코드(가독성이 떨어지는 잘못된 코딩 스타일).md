[원문](https://ko.javascript.info/ninja-code)

## 닌자 코드란?

닌자는 일본의 자객이다. 예전에는 고급 개발자들이 유지보수 담당자들을 혹독하게 훈련시키고자 암살에 가깝게 코드를 어렵게 작성했다. 또는 편법을 활용해서 코드를 꼬아서 작성하기도 했다.


물론 실력이 좋아서 전부 알고 그렇게 코드를 작성하는 것이면 상관없고 남에게 피해를 주는 것이 아니라면 상관 없겠지만,


초보개발자가 의도치 않게 닌자가 되어버리는 상황도 많기 때문에 본인이 코드 가독성을 흐리도록 작성하고 있진 않은지 검토해볼 필요가 있다.


여담이지만 참고로 나는 여러 회사에서 일해보며 느낀 진리가 하나 있다. 그 회사에서 나만 할 수 있는 일이 많아지면 회사에서도 나를 대체할 수 있는 사람을 쉽게 찾을 수 없어 내가 좋든 싫든 회사에서는 나 외에 다른 대안이 없다는 걸 느꼈다. 근데 회사에서는 일부러 일을 어렵게 만들어서 그러는 것이 아니라 내가 노련하게 할 수 있는 일을 많이 만들어 다른 사람들이 대체할 엄두를 내지 못하게 되는 것이었다면, 개발자 세계관에서는 일부러 코드를 어렵게 작성해서 유지보수를 어렵게 만들어서 나를 해고하지 못하도록 하는 것이 하나의 생존전략이라고 우스갯소리처럼 나오는 것 같다. (저 책을 읽어 보진 않았지만 책의 내용도 하지 말라는 말을 역설적으로 하는 것으로 보인다.) [리뷰 블로그](https://widruv.tistory.com/61)


실제로 그런 책이 있는 것 같다. 한빛미디어에서는 '유지보수하기 어렵게 코딩하는 방법 : 평생 개발자로 먹고 살 수 있다.'라는 책도 나왔다.

### 닌자가 되는 방법

하지만 이 문서의 핵심은 닌자가 되는 게 좋다는 게 아니라 아래 방식대로 하지 말라는 의미이다.

#### 코드 짧게 쓰기

```javascript
// 출처: 아주 유명한 라이브러리
i = i ? i < 0 ? Math.max(0, len + i) : i : 0;
```

위와 같은 코드를 만난다면 i가 나타내는 것이 무엇인지 해석하느라 많은 시간을 소모하게 될 것이다. 시간만 많이 쓰면 그나마 다행이고 해석 자체를 하지 못하는 경우가 수두룩하다.

### 나만 아는 변수명 사용

```javascript
let a = 1;
let b = 2;
let c = 3;
// a, b, c의 의미를 알 수 없다

for (x = 0; x < 5; x++) {
    ...
}
// 보통 for문에서는 변수명을 i로 사용하지만 닌자는 자기 마음대로 써서 코드를 읽는 사람이 멈칫하게 만든다.
```

### 약어 사용

```javascript
let list;
let lit;

let userAgent;
let ua;

let browser;
let brsr;
```

### 포괄적인 명사 사용

```javascript
let obj = {
    ...
}

let data;

let value;

let item;

let element;
```

obj, value, item 같은 변수명은 교육받을 때는 예시로 많이 사용하지만 그래서 어떤 값인지 알아 차리가가 쉽지 않아 가독성이 떨어진다.


자료형의 이름을 그대로 사용하는 것도 가독성이 떨어진다. 자료형을 나타내줄 순 있어도 그 변수나 함수가 어떤 기능을 하는 지는 파악하기 어렵다.

```javascript
let num;
let str;
```

### 이미 지은 변수명에 숫자만 증가시키기

변수명에 숫자를 넣어서 계속 변수를 늘려가는 것도 가독성이 떨어진다.

```javascript
let num1;
let num2;
let num3;
```

변수명이 떠오르지 않는다고 이미 지어놓은 변수명에 숫자만 증가시키는 것만큼 좋지 못한 예시도 없다.

### 철자가 유사한 단어 사용

아래 예시는 변수나 함수명에 잘 사용되지 않는 예시이긴 하나, 영어가 모국어가 아닌 한국인이 알아보기엔 힘들 정도로 철자가 유사한 단어들이 많다. 가장 많이 하는 에러는 date, data를 혼용해서 계속 사용하는 경우다.

- data / date
- thought / thorought / though / thorough
- console / counsel
- instant / constant
- religion / region
- adapt / adopt

### 동의어 사용

displayMessage / showName와 같은 함수를 두 개 혼용해서 사용했다고 가정하면,  

display나 show나 무언가를 보여주고 나타내는 동사인데 둘을 혼용해서 사용하면 개발자가 어떤 의미를 갖고 굳이 나눠놨는지 파악하기가 쉽지 않다.  
의도가 있어서 사용하는 것이면 별도로 미묘한 show 함수와 display의 미묘한 차이를 설명해주어야 할 것이다. 그런데 그런 과정 없이 개발자가 의도하지 않게 저렇게 여러 동사를 혼용해서 사용하는 건 실수다.  


심지어 같은 프로젝트를 진행하는 팀원들끼리도 같은 의미를 두고 전부 다른 동사를 사용하면 혼란은 더욱 가중된다. 누구는 print, 누구는 show, 누구는 display와 같은 식으로 말이다.

### 이름 재사용하기

이 부분은 초보의 관점에서는 논란이 있을 것 같다. 위에서 살펴보았던 헬퍼 함수같은 경우를 보면 계속 반복되는 함수를 미리 정의해두어 불필요하게 코드를 작성할 때마다 함수를 작성하는 것이 아니라 미리 템플릿과 같이 만들어 두는 방법도 있다고 소개를 했었다. 그런데 자칫하면 오히려 이것 때문에 가독성이 흐려질 순 있다. 함수의 명명을 자기 설명적으로 충분히 못했거나 함수가 너무 복잡하다면 오히려 파악하기 힘들 수도 있다.


단 미리 변수나 코드를 선언해두고 이를 계속 재사용해서 사용하는 것은 숙련된 팀에서 사용한다면 나중에 유지보수를 해야 할 때 그 코드가 사용되는 모든 라인을 유지보수 할 필요 없고 그 코드만 수정해주면 되기 때문에 팀원들끼리 변수명이나 함수명이 꼬일 이유도 없다는 장점도 있고 유지보수가 편리하다는 장점도 있긴 하다.


이걸 알고 쓰는 것과 의도치 않게 쓰는 것은 천지차이이다.

```javascript
function ninjaFunction(elem) {
  // 매개변수로 받아온 elem을 이용한 코드

  elem = clone(elem);

  // elem의 복제(clone)본을 이용한 코드
}
```

### 의미없는 언더스코어 사용

_name, __value와 같은 언더스코어를 특별한 약속에 의해 사용하는 것이 아니라 자기 마음대로 사용하게 되면 코드 길이도 길어지고 보는 사람이 언더스코어의 의미가 무엇인지 알 수 없어 가독성이 떨어진다.

### 과장 형용사 사용

superElement, megaFrame, niceItem과 같은 형용사를 보면 다른 사람이 보기에 super, mega, nice와 같은 형용사에 무슨 의미가 있을 것이라고 생각하고 그것을 해석하다 시간을 낭비하게 될 수 있다.

### 외부 변수 덮어쓰기

외부에서 사용한 변수와 함수 내부에서 사용하는 변수 이름은 다르게 구분해주는 것이 좋다.

```javascript
// 외부 변수
let count = 10;

function updateCount() {
    // 외부 변수를 내부에 덮어쓰기
    let count = 20;
    console.log(count); // 내부 count 출력: 20
}

updateCount();
console.log(count); // 외부 count 출력: 10
```

1. 위의 예제를 보면 외부에서 전역변수로 count라는 변수를 만들고 10이라는 값을 초기화했다.
2. 그런데 함수 내부에서 외부에서 사용한 변수를 다시 그대로 덮어쓰면서 값을 20으로 수정했다.
3. 따라서 아래 라인 코드인 console.log에서는 수정된 값인 count가 출력되지만 외부의 console.log에서는 함수 내부의 지역변수에 접근할 수 없기 때문에 전역변수의 원래 값인 20이 출력된다.

### 부작용이 있는 코드 작성

일반적으로 함수의 이름을 작성할 때 is..., check..., find...와 같은 함수는 어떤 동작을 하진 않고 값이나 상태 등 무언가를 확인할 때 사용한다.  


여기에 무언 가를 바꾸도록 함수 이름과 관련이 없는 기능을 넣어버리면 가독성이 떨어지고 다른 개발자가 유지보수 하기도 어렵다.


예를들어 checkPermission()이라는 함수를 작성하고, 보통은 이런 함수는 true나 false와 같은 불린값을 반환하는데 엉뚱한 기능을 넣으면 머리가 아파진다.

### 함수 하나에 다양한 기능 넣기

validateEmail(email)이라는 함수가 선언되었다고 하면 보통은 이메일이 유효한지 상태만 검사하는 함수로 이해한다. 그런데 여기에 alert('이메일이 올바르지 않습니다.') 이런 함수를 계속해서 추가시켜 놓으면 가독성도 떨어지고 다른 사람이 코드를 재사용 할 수도 없다.